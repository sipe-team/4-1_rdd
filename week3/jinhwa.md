## 진척 상황

### 진행 작업

- 폼 컴포넌트에 대한 테스트 코드 작성
- 각 카테고리에 맞춰 동작이 올바른지 검증
- 선택한 제품에 따라 동적으로 변화하는 필드 렌더링 확인
- validation schema에 대한 유닛 테스트 구성 및 검증 완료

### 테스트에서 확인한 주요 동작

- 각 카테고리별로 제목과 필드가 상황에 맞게 정확히 렌더링됨
- 제품 선택 이후 후속 입력 필드(단위, 수량 등)가 올바르게 노출됨
- validation 로직에서 필수 항목이 빠질 경우 에러 메시지가 정확하게 출력됨
- 사업장의 시작일 이전 날짜를 선택할 경우 유효하지 않다는 에러를 반환함
- 유효한 데이터로는 정상적으로 검증을 통과함

---

## 고민되었던 점

### 정합성 높은 validation을 위한 유닛 테스트의 필요성

form 입력값의 정합성을 높이기 위해 validation 스키마를 별도 함수로 분리하고, 이 로직 자체에 대한 테스트를 진행함.  
처음에는 단순히 UI 테스트만으로도 충분하다고 생각했지만, 실제로는 날짜 유효성, 조건부 필드, 선택값에 따른 입력 필드 변화 등 내부 로직에 대한 테스팅이 더 필요하다고 생각함.

스키마를 별도 함수로 분리한 덕분에 로직 테스트가 수월해졌다.
---

### 테스트 복잡도와 리팩토링 간의 균형

제품별로 입력 필드가 다르고, 단위 종류도 달라서 목 데이터를 생성하는 데 상당한 노력이 필요했음.

> 느낀 점:
> - 다양한 조건(branch)에 따라 input 필드가 바뀌는 경우, 목 데이터을 관리하는 방식이 코드 품질에 직접적인 영향을 줌
> - 테스트 대상 컴포넌트 내부 로직을 외부로 분리하는 방향은 장기적으로 좋지만, 오히려 복잡성이 증가하는 면도 있는 것 같아 고민이 된다.

---

### 다음 계획

- validation 스키마와 테스트 케이스를 기반으로 Form 내 필드 구성 로직도 분리할 수 있는지 검토
- 단위, 제품, 사이트 등의 선택 항목에 대한 공통 인터페이스 또는 helper 생성 고려
- 유닛 테스트와 UI 테스트를 적절히 나누어, 각각의 목적에 맞는 테스트 구조 확립